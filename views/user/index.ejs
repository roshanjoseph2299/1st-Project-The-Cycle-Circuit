
<%- include('../user/partials/header') -%>
<%- include('../user/partials/headernav') -%>


		

	<!-- Slider -->
	<section class="section-slide">
		<div class="wrap-slick1">
			<div class="slick1">
				<div class="item-slick1" style="background-image: url(userstyle/images/kids-banner1.jpg);">
					<div class="container h-full">
						<div class="flex-col-l-m h-full p-t-100 p-b-100 respon5">
							<!-- <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="0">
								<span class="ltext-101 cl2 respon2">
								Kids Collection
								</span>
							</div> -->
								
							<!-- <div class="layer-slick1 animated visible-false" data-appear="fadeInUp" data-delay="800">
								<h2 class="ltext-201 cl2 p-t-19 p-b-43 respon1">
									NEW SEASON
								</h2>
							</div> -->
								
							<!-- <div class="layer-slick1 animated visible-false" data-appear="zoomIn" data-delay="1600">
								<a href="product.html" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04">
									Shop Now
								</a>
							</div> -->
						</div>
					</div>
				</div>

				<!-- <div class="item-slick1" style="background-image: url(userstyle/images/ladies-banner.jpg);">
					<div class="container h-full">
						<div class="flex-col-l-m h-full p-t-100 p-b-30 respon5">
							<div class="layer-slick1 animated visible-false" data-appear="rollIn" data-delay="0">
								<span class="ltext-101 cl2 respon2">
									Ladies Collection
								</span>
							</div>
								
							<div class="layer-slick1 animated visible-false" data-appear="lightSpeedIn" data-delay="800">
								<h2 class="ltext-201 cl2 p-t-19 p-b-43 respon1">
								Ladybird and Urban
								</h2>
							</div>
								
							<div class="layer-slick1 animated visible-false" data-appear="slideInUp" data-delay="1600">
								<a href="product.html" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04">
								Shop Now
								</a>
							</div>
						</div>
					</div>
				</div> -->

				<!-- <div class="item-slick1" style="background-image: url(userstyle/images/mens-banner.jpg);">
					<div class="container h-full">
						<div class="flex-col-l-m h-full p-t-100 p-b-30 respon5">
							<div class="layer-slick1 animated visible-false" data-appear="rotateInDownLeft" data-delay="0">
								<span class="ltext-101 cl2 respon2">
									Male  Collections
								</span>
							</div>
								
							<div class="layer-slick1 animated visible-false" data-appear="rotateInUpRight" data-delay="800">
								<h2 class="ltext-201 cl2 p-t-19 p-b-43 respon1">
								Urban, Mountain & 
								Freestyle BMX
								</h2>
							</div>
								
							<div class="layer-slick1 animated visible-false" data-appear="rotateIn" data-delay="1600">
								<a href="product.html" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04">
									Shop Now
								</a>
							</div>
						</div>
					</div>
				</div> -->
			</div>
		</div>
	</section>


	<!-- Banner -->
	<div class="sec-banner bg0 p-t-80 p-b-50">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-xl-4 p-b-30 m-lr-auto">
					<!-- Block1 -->
					
					<!-- Block1 -->
					
					<!-- Block1 -->
				
				</div>
			</div>
		</div>
	</div>


	<!-- ` -->
	<section class="bg0 p-t-23 p-b-140">
		<div class="container">
			<div class="p-b-10">
				<h3 class="ltext-103 cl5">
					Product Overview
				</h3>
			</div>

			
			<div class="flex-w flex-sb-m p-b-52">
				
				<div class="flex-w flex-l-m filter-tope-group m-tb-10">
					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5 how-active1" data-filter="*">
						All Products
					</button>
					<% categories.forEach(category => { %>
						<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5 category-button" data-filter=".<%= category.name %>">
							<%= category.name %>
						</button>
					<% }) %>

				

				
				</div>


				<div class="flex-w flex-c-m m-tb-10">
					<div
						class="flex-c-m stext-106 cl6 size-104 bor4 pointer hov-btn3 trans-04 m-r-8 m-tb-4 js-show-filter">
						<i class="icon-filter cl2 m-r-6 fs-15 trans-04 zmdi zmdi-filter-list"></i>
						<i class="icon-close-filter cl2 m-r-6 fs-15 trans-04 zmdi zmdi-close dis-none"></i>
						Filter
					</div>
	
					<div
						class="flex-c-m stext-106 cl6 size-105 bor4 pointer hov-btn3 trans-04 m-tb-4 js-show-search">
						<i class="icon-search cl2 m-r-6 fs-15 trans-04 zmdi zmdi-search"></i>
						<i class="icon-close-search cl2 m-r-6 fs-15 trans-04 zmdi zmdi-close dis-none"></i>
						Search
					</div>
				</div>
			
		
				
				<!-- Search product -->
		
				<div class="dis-none panel-search w-full p-t-10 p-b-15">
					<input id="searchInput" class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
					<button id="searchButton" class="btn btn-primary" type="button">Search</button>
			</div>

				<!-- Filter Options -->
				<div class="dis-none panel-filter w-full p-t-10 p-b-15">
					<a href="/lowtohigh" class="filter-button">Low to high</a>
					<a href="/hightolow" class="filter-button">High to low</a>

				</div>


			
			</div>

						

			<div class="product" id="productGrid">
			<div class="row isotope-grid"  id="productContainer">
				<% details.forEach(product =>{%>
					
				<div class="col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item <%= product.category?.name %>"  data-price="<%= product.price %>">
					<!-- Block2 -->
				
					<div class="block2">

						<div class="block2-pic hov-img0"  >
							<a href="/product_detail/<%= product._id %>/<%= product.slug %>">
							<img  src="<%= product.image[0] %>" alt="IMG-PRODUCT"></a>

					
						</div>

						<div class="block2-txt flex-w flex-t p-t-14">
							<div class="block2-txt-child1 flex-col-l ">
								<a href="/product_detail/<%= product._id %>/<%= product.slug %>" class="stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6">
									<%= product.name%>
								</a>

								<% if (product.offerPrice) { %>
									<div class="stext-105 cl3">
										<span class="discounted-price">Price: <s><%= product.price %></s></span><br>
										<span class="offer-price">Offer Price: <%= product.offerPrice %></span> 
										
									</div>
								<% } else { %>
									<span class="stext-105 cl3">
										Price: <%= product.price %>
									</span>
								<% } %>
							</div>
			
							<div class="block2-txt-child2 flex-r p-t-3">
								<a href="#" class="btn-addwish-b2 dis-block pos-relative js-addwish-b2">
									<img class="icon-heart1 dis-block trans-04" src="userstyle/images/icons/icon-heart-01.png" alt="ICON">
									<img class="icon-heart2 dis-block trans-04 ab-t-l" src="userstyle/images/icons/icon-heart-02.png" alt="ICON">
								</a>
							</div>
						</div>
					</div>
				</div>
				<% } )  %>
					
			</div>
		</div>

<script>
	document.getElementById('searchButton').addEventListener('click', searchProducts);

function searchProducts(event) {
  event.preventDefault();

  const searchInput = document.getElementById('searchInput').value;

  // Make a POST request to the server for search results
  fetch('/search', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ searchInput })
  })
    .then(response => response.json())
    .then(data => {
      const productContainer = document.getElementById('productContainer');
      productContainer.innerHTML = '';

      data.forEach(product => {
        const productHTML = `
          <div class="col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item ${product.category?.name}" data-price="${product.price}">
            <div class="block2">
              <div class="block2-pic hov-img0">
                <a href="/product_detail/${product._id}/${product.slug}">
                  <img src="${product.image[0]}" alt="IMG-PRODUCT">
                </a>
              </div>
              <div class="block2-txt flex-w flex-t p-t-14">
                <div class="block2-txt-child1 flex-col-l">
                  <a href="/product_detail/${product._id}/${product.slug}" class="stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6">
                    ${product.name}
                  </a>
                  ${product.offerPrice ? `
                    <div class="stext-105 cl3">
                      <span class="discounted-price">Price: <s>${product.price}</s></span><br>
                      <span class="offer-price">Offer Price: ${product.offerPrice}</span> 
                    </div>
                  ` : `
                    <span class="stext-105 cl3">
                      Price: ${product.price}
                    </span>
                  `}
                </div>
                <div class="block2-txt-child2 flex-r p-t-3">
                  <a href="#" class="btn-addwish-b2 dis-block pos-relative js-addwish-b2">
                    <img class="icon-heart1 dis-block trans-04" src="userstyle/images/icons/icon-heart-01.png" alt="ICON">
                    <img class="icon-heart2 dis-block trans-04 ab-t-l" src="userstyle/images/icons/icon-heart-02.png" alt="ICON">
                  </a>
                </div>
              </div>
            </div>
          </div>
        `;

        productContainer.innerHTML += productHTML;
      });
    })
    .catch(error => {
      console.error('Error:', error);
    });
}

</script>
	


							<!---------pagination--------------->
		<section for pagination>
			<div class="pagination-container">
				<ul class="pagination" id="pagination-list">
					<li class="page-item" id="prev-page">
						<a class="page-link" href="#" aria-label="Previous">
							<span aria-hidden="true"><i class="fas fa-chevron-left"></i></span>
							<span class="visually-hidden">Previous</span>
						</a>
					</li>
					<!-- Page numbers will be dynamically added here -->
					<li class="page-item" id="next-page">
						<a class="page-link" href="#" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
							<span class="visually-hidden">Next</span>
						</a>
					</li>
				</ul>
			</div>
			<!----- style for pagination ------>
			<style>
				.pagination-container {
					margin-top: 10px;
					display: flex;
					justify-content: center;
				}
				
				.pagination {
					display: flex;
					list-style: none;
					padding: 0;
				}
				
				.page-item {
					margin: 0 5px;
				}
				
				.page-link {
					padding: 5px 10px;
					text-decoration: none;
					color: #333;
					border-radius: 5px; /* Add border radius */
				}
				
				.page-link:hover {
					background-color: #eee;
				}
			</style>
			</section>
			
			</div>
	</section>



<!-------------for pagination-------------->
	<script>
		const productList = document.getElementById("product-list");
		const products = document.querySelectorAll(".isotope-item");
		const itemsPerPage = 8; // Number of products to display per page
		const numPages = Math.ceil(products.length / itemsPerPage);
		let currentPage = 1;
	
		showPage(currentPage);
	
		function showPage(page) {
			const startIndex = (page - 1) * itemsPerPage;
			const endIndex = startIndex + itemsPerPage;
	
			products.forEach((product, index) => {
				if (index >= startIndex && index < endIndex) {
					product.style.display = "block";
				} else {
					product.style.display = "none";
				}
			});
	
			const paginationList = document.getElementById("pagination-list");
			paginationList.innerHTML = ""; // Clear the existing page numbers
	
			// "Previous" button
			const prevButton = createPaginationButton('<i class="fas fa-chevron-left"></i>', () => {
				if (currentPage > 1) {
					currentPage--;
					showPage(currentPage);
				}
			});
			paginationList.appendChild(prevButton);
	
			for (let i = 1; i <= numPages; i++) {
				const listItem = document.createElement("li");
				listItem.classList.add("page-item");
	
				const link = createPaginationButton(i, () => {
					currentPage = i;
					showPage(currentPage);
				});
	
				if (i === currentPage) {
					listItem.classList.add("active");
				}
	
				listItem.appendChild(link);
				paginationList.insertBefore(listItem, document.getElementById("next-page"));
			}
	
			// "Next" button
			const nextButton = createPaginationButton('<i class="fas fa-chevron-right"></i>', () => {
				if (currentPage < numPages) {
					currentPage++;
					showPage(currentPage);
				}
			});
			paginationList.appendChild(nextButton);
		}
	
		function createPaginationButton(content, onClick) {
			const button = document.createElement("a");
			button.classList.add("page-link");
			button.href = "#";
			button.innerHTML = content;
			button.addEventListener("click", onClick);
			return button;
		}
	</script>




	

	
<footer class="bg3 p-t-75 p-b-32">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-lg-3 p-b-50">
        <h4 class="stext-301 cl0 p-b-30">
          Categories
        </h4>

        <ul>
          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Women
            </a>
          </li>

          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Men
            </a>
          </li>

          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Shoes
            </a>
          </li>

          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Watches
            </a>
          </li>
        </ul>
      </div>

      <div class="col-sm-6 col-lg-3 p-b-50">
        <h4 class="stext-301 cl0 p-b-30">
          Help
        </h4>

        <ul>
          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Track Order
            </a>
          </li>

          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Returns 
            </a>
          </li>

          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              Shipping
            </a>
          </li>

          <li class="p-b-10">
            <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
              FAQs
            </a>
          </li>
        </ul>
      </div>

      <div class="col-sm-6 col-lg-3 p-b-50">
        <h4 class="stext-301 cl0 p-b-30">
          GET IN TOUCH
        </h4>

        <p class="stext-107 cl7 size-201">
          Any questions? Let us know in store at 8th floor, 379 Hudson St, New York, NY 10018 or call us on (+1) 96 716 6879
        </p>

        <div class="p-t-27">
          <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
            <i class="fa fa-facebook"></i>
          </a>

          <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
            <i class="fa fa-instagram"></i>
          </a>

          <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
            <i class="fa fa-pinterest-p"></i>
          </a>
        </div>
      </div>

      <div class="col-sm-6 col-lg-3 p-b-50">
        <h4 class="stext-301 cl0 p-b-30">
          Newsletter
        </h4>

        <form>
          <div class="wrap-input1 w-full p-b-4">
            <input class="input1 bg-none plh1 stext-107 cl7" type="text" name="email" placeholder="email@example.com">
            <div class="focus-input1 trans-04"></div>
          </div>

          <div class="p-t-18">
            <button class="flex-c-m stext-101 cl0 size-103 bg1 bor1 hov-btn2 p-lr-15 trans-04">
              Subscribe
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="p-t-40">
      <div class="flex-c-m flex-w p-b-18">
        <a href="#" class="m-all-1">
          <img src="userstyle/images/icons/icon-pay-01.png" alt="ICON-PAY">
        </a>

        <a href="#" class="m-all-1">
          <img src="userstyle/images/icons/icon-pay-02.png" alt="ICON-PAY">
        </a>

        <a href="#" class="m-all-1">
          <img src="userstyle/images/icons/icon-pay-03.png" alt="ICON-PAY">
        </a>

        <a href="#" class="m-all-1">
          <img src="userstyle/images/icons/icon-pay-04.png" alt="ICON-PAY">
        </a>

        <a href="#" class="m-all-1">
          <img src="userstyle/images/icons/icon-pay-05.png" alt="ICON-PAY">
        </a>
      </div>

      <p class="stext-107 cl6 txt-center">
        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | Made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a> &amp; distributed by <a href="https://themewagon.com" target="_blank">ThemeWagon</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->

      </p>
    </div>
  </div>
</footer>


<!-- Back to top -->
<div class="btn-back-to-top" id="myBtn">
  <span class="symbol-btn-back-to-top">
    <i class="zmdi zmdi-chevron-up"></i>
  </span>
</div>

<!---style for filter price-->
<style>
  .panel-filter {
    display: none; /* Hide the panel by default */
    width: 100%;
    padding-top: 10px;
    padding-bottom: 15px;
    text-align: left; /* Center the buttons horizontally */
  }

  .panel-filter .filter-button {
    display: inline-block;
    margin: 5px;
    padding: 10px 20px;
    background-color: #f5f5f5;
    color: #333;
    text-decoration: none;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-weight:normal ;
    /* Add any other styles you want for the buttons */
  }
</style>
  <!--------for deleing over screen --------->
   <script>
    function showCancelPopup(orderId) {
      swal({
        title: "Are you sure?",
        text: "Once canceled, you will not be able to recover this order!",
        icon: "warning",
        buttons: true,
        dangerMode: true,
      })
      .then((willCancel) => {
        if (willCancel) {
          cancelOrder(orderId);
        } else {
          swal("Order not canceled!", "Your order is safe.", "info");
        }
      });
    }
  
    function cancelOrder(orderId) {
      fetch(`/cancelOrder/${orderId}`, {
        method: 'GET'
      })
      .then((response) => {
        if (response.ok) {
          return response.json();
        } else {
          throw new Error('Failed to cancel the order.');
        }
      })
      .then((data) => {
        swal("Order Canceled!", "Your order has been canceled.", "success");
        // Additional actions after canceling the order if needed
      })
      .catch((error) => {
        swal("Error", error.message, "error");
      });
    }
  </script>
 

<style>
	.offer-price s {
  text-decoration: line-through;
  color: red; /* Customize the color of the crossed-out text if needed */
}
</style>



<!--===============================================================================================-->	
<script src="userstyle/vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script src="userstyle/vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
<script src="userstyle/vendor/bootstrap/js/popper.js"></script>
<script src="userstyle/vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
<script src="userstyle/vendor/select2/select2.min.js"></script>
<script>
  $(".js-select2").each(function(){
    $(this).select2({
      minimumResultsForSearch: 20,
      dropdownParent: $(this).next('.dropDownSelect2')
    });
  })
</script>
<!--===============================================================================================-->
<script src="userstyle/vendor/daterangepicker/moment.min.js"></script>
<script src="userstyle/vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
<script src="userstyle/vendor/slick/slick.min.js"></script>
<script src="userstyle/js/slick-custom.js"></script>
<!--===============================================================================================-->
<script src="userstyle/vendor/parallax100/parallax100.js"></script>
<script>
      $('.parallax100').parallax100();
</script>
<!--===============================================================================================-->
<script src="userstyle/vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
<script>
  $('.gallery-lb').each(function() { // the containers for all your galleries
    $(this).magnificPopup({
          delegate: 'a', // the selector for gallery item
          type: 'image',
          gallery: {
            enabled:true
          },
          mainClass: 'mfp-fade'
      });
  });
</script>
<!--===============================================================================================-->
<script src="userstyle/vendor/isotope/isotope.pkgd.min.js"></script>
<!--===============================================================================================-->
<script src="userstyle/vendor/sweetalert/sweetalert.min.js"></script>
<script>
  $('.js-addwish-b2').on('click', function(e){
    e.preventDefault();
  });

  $('.js-addwish-b2').each(function(){
    var nameProduct = $(this).parent().parent().find('.js-name-b2').html();
    $(this).on('click', function(){
      swal(nameProduct, "is added to wishlist !", "success");

      $(this).addClass('js-addedwish-b2');
      $(this).off('click');
    });
  });

  $('.js-addwish-detail').each(function(){
    var nameProduct = $(this).parent().parent().parent().find('.js-name-detail').html();

    $(this).on('click', function(){
      swal(nameProduct, "is added to wishlist !", "success");

      $(this).addClass('js-addedwish-detail');
      $(this).off('click');
    });
  });

  /*---------------------------------------------*/

  $('.js-addcart-detail').each(function(){
    var nameProduct = $(this).parent().parent().parent().parent().find('.js-name-detail').html();
    $(this).on('click', function(){
      swal(nameProduct, "is added to cart !", "success");
    });
  });

</script>
<!--===============================================================================================-->
<script src="userstyle/vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script>
  $('.js-pscroll').each(function(){
    $(this).css('position','relative');
    $(this).css('overflow','hidden');
    var ps = new PerfectScrollbar(this, {
      wheelSpeed: 1,
      scrollingThreshold: 1000,
      wheelPropagation: false,
    });

    $(window).on('resize', function(){
      ps.update();
    })
  });
</script>


  <!-----------for search functionality----------->

  <!-- <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Search Functionality
        document.getElementById('searchButton').addEventListener('click', function() {
            var searchInput = document.getElementById('searchInput').value.toLowerCase();
            var items = document.getElementsByClassName('isotope-item');

            for (var i = 0; i < items.length; i++) {
                var productName = items[i].querySelector('.js-name-b2').innerText.toLowerCase();

                if (productName.includes(searchInput)) {
                    items[i].style.display = 'block';
                } else {
                    items[i].style.display = 'none';
                }
            }
        });
    });
</script> -->








<!--===============================================================================================-->
<script src="userstyle/js/main.js"></script>



</body>
</html>


  
	

